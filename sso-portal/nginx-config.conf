# Add this location block to your existing nginx configuration
# in /Users/alexanderevplov/OpenAiAgent/librechat/nginx/edge-auth.conf

    # SSO Portal - Single Sign-On entry point
    location /sso-portal {
        alias /app/sso-portal;
        try_files $uri $uri/ /sso-portal/index.html;
        
        # Security headers for browser-based authentication
        add_header X-Frame-Options "SAMEORIGIN" always;
        add_header X-Content-Type-Options "nosniff" always;
        add_header X-XSS-Protection "1; mode=block" always;
        add_header Referrer-Policy "strict-origin-when-cross-origin" always;
        
        # Allow Keycloak.js to work properly
        add_header Content-Security-Policy "default-src 'self' https://dev.bizneuron.local; script-src 'self' 'unsafe-inline' https://dev.bizneuron.local/auth/; style-src 'self' 'unsafe-inline'; connect-src 'self' https://dev.bizneuron.local/auth/; frame-src 'self' https://dev.bizneuron.local/auth/;" always;
    }